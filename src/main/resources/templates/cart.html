<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<head th:replace="layout/layout :: head">
<title>Carrito</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<link href="#" th:href="@{/css/style.css}" rel="stylesheet" />

</head>


<body class="main-layout">
	<!-- header inner -->

	<section id="crud" class="banner_main">
	<div class="container-fluid" layout:fragment="messages"></div>
		<div class="container-fluid" layout:fragment="page-content">
			<div class="row">
				<div class="col-md-12">
					<form th:action="@{/user/pdf}" method="post">
						<div class="card">
							<div class="card-header">
								<h5 class="card-title">Carrito</h5>
							</div>
							<div class="card-body">
								<table class="table table-bordered">
									<thead>
										<tr>
											<th>Imagen</th>
											<th>Nombre</th>
											<th>Descripcion</th>
											<th>Precio</th>
											<th>Categoria</th>
											<th>Stock</th>
											<th>Quitar</th>

										</tr>
									</thead>


									<tbody>


										<tr th:each="article,iter : ${cart}">
											<td><img th:src="@{/img/} + ${article.image}"
												style="max-width: 15%; max-height: 15%" /></td>
											<td th:text="${article.name}"></td>
											<td th:text="${article.description}"></td>
											<td th:text="${article.price}"></td>
											<td th:text="${article.categoryId.name}"></td>
											<td th:text="${article.stock}"></td>
											<td><a
												th:href="@{/user/deleteArticleOfCart/} + ${iter.index}"><span
													class="fa fa-trash" style='color: red' aria-hidden="true"></span></a></td>


										</tr>
									</tbody>

								</table>
								<div th:if="${#lists.isEmpty(cart)}">
									<div style="text-align:center">
										<h1>Aun no ha seleccionado ning√∫n articulo</h1>
									</div>
								</div>

							</div>
							</div>
							
							<div th:if="${not #lists.isEmpty(cart)}">
								<div class="card-footer">
									<a href="/user/pdf"  class="btn btn-success" target="_blank">Comprar     <i class="fas fa-solid fas fa-file-pdf"></i></a>
								</div>
								</div>
					</form>


					<form th:action="@{/user/destroy}" method="post"
						http-equiv="refresh">
						<input type="submit" value="Cancelar compra"
							class="btn btn-warning" />
					</form>
				</div>

			</div>
		</div>
		



	</section>